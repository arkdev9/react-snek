(this["webpackJsonpreact-snek"]=this["webpackJsonpreact-snek"]||[]).push([[0],{12:function(e,t,i){},13:function(e,t,i){"use strict";i.r(t);var n=i(0),o=i.n(n),s=i(4),r=i.n(s),a=i(1),c=i(2),h=i(5),l=i(6),d=function(){function e(){Object(a.a)(this,e),this.positions=[{y:0,x:0}]}return Object(c.a)(e,[{key:"checkValidPos",value:function(e,t){return!(e.x>=30||e.x<0)&&!(e.y>=30||e.y<0)}},{key:"moveSnek",value:function(e,t){var i={};if("right"===e&&(i={y:this.positions[this.positions.length-1].y,x:this.positions[this.positions.length-1].x+1}),"left"===e&&(i={y:this.positions[this.positions.length-1].y,x:this.positions[this.positions.length-1].x-1}),"up"===e&&(i={y:this.positions[this.positions.length-1].y-1,x:this.positions[this.positions.length-1].x}),"down"===e&&(i={y:this.positions[this.positions.length-1].y+1,x:this.positions[this.positions.length-1].x}),!this.checkValidPos(i))return{collison:"bounds",grid:t};var n="none";t[i.y][i.x].food&&(n="food"),t[i.y][i.x].snek&&(n="snek"),"none"===n?t[this.positions[0].y][this.positions[0].x].snek=!1:"food"===n&&(t[i.y][i.x].food=!1);var o=this.positions.slice("food"===n?0:1,this.positions.length);return o.push(i),this.positions=o,t[i.y][i.x].snek=!0,{collision:n,grid:t}}}]),e}(),u=function(){function e(){Object(a.a)(this,e),this.grid=[],this.snek=new d,this.snekDir="right",this.dirMap={37:"left",38:"up",39:"right",40:"down"};for(var t=0;t<30;t++){for(var i=[],n=0;n<30;n++)i.push({snek:!1,food:!1});this.grid.push(i)}this.grid[this.snek.positions[0].y][this.snek.positions[0].x].snek=!0,this.grid[7][8].food=!0}return Object(c.a)(e,[{key:"gameLoop",value:function(e){var t=this.snek.moveSnek(this.snekDir,this.grid);if("bounds"===t.collision)return this.endGame(t.collision),!1;if("snek"===t.collision)return this.endGame(t.collision),!1;if("food"===t.collision){for(var i=Math.floor(30*Math.random()),n=Math.floor(30*Math.random()),o=n;o!==n-1;o++)for(var s=i;s!==i-1;s++)if(!this.grid[o][s].snek)return this.grid[o][s].food=!0,.7*e;return this.endGame("Full grid"),!1}return e}},{key:"endGame",value:function(e){console.trace(),alert("Game Over: ".concat(e)),clearInterval(this.gameLoop)}},{key:"handleKey",value:function(e){e.keyCode in this.dirMap&&(console.log("Clicked: ".concat(e.keyCode," - ").concat(this.dirMap[e.keyCode])),this.snekDir=this.dirMap[e.keyCode])}}]),e}(),k=(i(12),function(e){Object(l.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(a.a)(this,i),(n=t.call(this,e)).TICK=200,n.board=new u(n.TICK),n.state={grid:n.board.grid},n.ticker=n.getTicker(n.TICK),n}return Object(c.a)(i,[{key:"getTicker",value:function(){var e=this;return setInterval((function(){var t=e.board.gameLoop(e.TICK);t?(t!==e.TICK&&(e.TICK=t,e.updateTicker(e.TICK)),e.setState({grid:e.board.grid})):e.clearTicker()}),this.TICK)}},{key:"updateTicker",value:function(e){clearInterval(this.ticker),this.ticker=this.getTicker(e)}},{key:"clearTicker",value:function(){clearInterval(this.ticker)}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",(function(t){e.board.handleKey(t)}),!1)}},{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("h1",null,"Snek"),o.a.createElement("div",{className:"game-container"},this.state.grid.map((function(e,t){return o.a.createElement("div",{key:t,className:"row"},e.map((function(e,t){return o.a.createElement("div",{key:t,className:"square ".concat(e.snek&&"snek"," ").concat(e.food&&"food")})})))}))))}}]),i}(o.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,i){e.exports=i(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.b52b6637.chunk.js.map